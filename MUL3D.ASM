;MUL16
;MUL3D

STACK1			SEGMENT PARA STACK
STACK_AREA		DW	100H DUP(?)
STACK_BOTTOM	EQU	$-STACK_AREA
STACK1			ENDS

DATA1	SEGMENT PARA
X		DW	0
Y		DW	0
BUFFER	DW	?
RESULT	DB	6 DUP(?),'$'
NEWLINE	DB	0DH,0AH,'$'
DATA1	ENDS

CODE1	SEGMENT	PARA
		ASSUME	CS:CODE1,DS:DATA1,SS:STACK1

MAIN	PROC	FAR
		MOV		AX,	STACK1
		MOV		SS,	AX
		MOV		SP,	STACK_BOTTOM
		MOV		AX,	DATA1
		MOV		DS,	AX

		MOV		CX, 3
		MOV		BX, 10
		XOR		DX, DX
INPUTX:	MOV		AH, 1
		INT     21H
		MOV		AH, 0
		SUB		AL, 30H
		MOV		BUFFER, AX
		MOV		AX, X
		MUL     BX
		ADD		AX, BUFFER
		MOV		X, AX
		LOOP	INPUTX

		MOV		AH, 1
		INT     21H

		MOV		CX, 3
		MOV		BX, 10
		XOR		DX, DX
INPUTY:	MOV		AH, 1
		INT     21H
		MOV		AH, 0
		SUB		AL, 30H
		MOV		BUFFER, AX
		MOV		AX, Y
		MUL     BX
		ADD		AX, BUFFER
		MOV		Y, AX
		LOOP	INPUTY

		XOR		DX,	DX
		MOV 	AX,	X
		MUL		Y
		MOV		BX,	1000
		DIV		BX
		PUSH	AX
		MOV		AX,	DX
		MOV		CX,	3
		MOV		DI,	OFFSET RESULT+5
		MOV		BX,	10

LP1:	XOR		DX,	DX
		DIV		BX
		OR		DL,	30H
		MOV		[DI],	DL
		DEC		DI
		LOOP	LP1

		POP		AX
		MOV		CX,	3

LP2:	XOR		DX,	DX
		DIV		BX
		OR		DL,	30H
		MOV		[DI],	DL
		DEC		DI
		LOOP	LP2

		MOV		DX,	OFFSET NEWLINE
		MOV		AH,	9
		INT		21H
PRINT:	MOV		DX,	OFFSET RESULT
		MOV		AH,	9
		INT		21H

EXIT:	MOV		AX,	4C00H
		INT		21H
MAIN	ENDP

CODE1	ENDS
		END		MAIN